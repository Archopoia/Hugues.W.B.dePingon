/* ========================================
   ACHIEVEMENTS & EASTER EGGS
   Secret Achievement Popups and Particles
   ======================================== */

/* Subtle hint for Age stat - normal pulsating glow */
.stat-item.stat-hint-pulse {
    animation: hintPulse 2s ease-in-out;
}

/* Strong hint with color reversal - only when clicking portrait with no sequence */
.stat-item.stat-hint-click {
    animation: hintPulseClick 2s ease-in-out;
}

.stat-item.stat-hint-click .stat-label {
    animation: hintClickLabelColor 2s ease-in-out;
}

.stat-item.stat-hint-click .stat-value {
    animation: hintClickValueColor 2s ease-in-out;
}

@keyframes hintPulseClick {
    0%, 100% {
        transform: scale(1);
        box-shadow: none;
        background: rgba(212, 175, 55, 0);
        filter: brightness(1);
    }
    15% {
        transform: scale(1.08);
        box-shadow:
            0 0 20px rgba(255, 255, 255, 0.8),
            inset 0 0 15px rgba(255, 255, 255, 0.5);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.2) 100%);
        border: 2px solid rgba(255, 255, 255, 0.9);
        filter: brightness(1.2);
    }
    30% {
        transform: scale(1);
        box-shadow: none;
        background: rgba(212, 175, 55, 0);
        filter: brightness(1);
    }
    45% {
        transform: scale(1.08);
        box-shadow:
            0 0 20px rgba(255, 255, 255, 0.8),
            inset 0 0 15px rgba(255, 255, 255, 0.5);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.2) 100%);
        border: 2px solid rgba(255, 255, 255, 0.9);
        filter: brightness(1.2);
    }
    60% {
        transform: scale(1);
        box-shadow: none;
        background: rgba(212, 175, 55, 0);
        filter: brightness(1);
    }
}

@keyframes hintClickLabelColor {
    0%, 100% {
        background: var(--red-theme);
        color: var(--text-cream);
    }
    15%, 45% {
        background: rgba(255, 255, 255, 0.9);
        color: var(--red-theme);
    }
    30%, 60% {
        background: var(--red-theme);
        color: var(--text-cream);
    }
}

@keyframes hintClickValueColor {
    0%, 100% {
        color: var(--gold-light);
    }
    15%, 45% {
        color: var(--text-dark);
    }
    30%, 60% {
        color: var(--gold-light);
    }
}

/* Secret Achievement Popup */
.secret-achievement {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 999999;
    background: linear-gradient(135deg, var(--parchment-aged) 0%, var(--parchment-light) 100%);
    border: 3px solid var(--gold-glow);
    border-radius: 20px;
    padding: 3rem 2rem;
    text-align: center;
    box-shadow:
        0 0 0 1px var(--red-theme),
        0 0 0 3px var(--gold-glow),
        0 0 0 4px var(--red-theme),
        0 0 40px 15px var(--gold-glow),
        0 10px 40px rgba(0, 0, 0, 0.5),
        inset 0 0 30px rgba(255, 215, 0, 0.3);
    animation: achievementPop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    min-width: 400px;
    max-width: 90vw;
}

.secret-achievement::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    background: linear-gradient(45deg, var(--gold), transparent, var(--gold));
    border-radius: 25px;
    z-index: -1;
    opacity: 0.5;
    animation: rotateBorder 3s linear infinite;
}

.achievement-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, transparent 70%);
    animation: pulseGlow 2s ease-in-out infinite;
    pointer-events: none;
}

.secret-achievement i {
    font-size: 4rem;
    color: var(--gold);
    text-shadow: 0 0 20px var(--gold-glow);
    animation: trophySpin 2s ease-in-out infinite;
    display: block;
    margin-bottom: 1rem;
}

.secret-achievement h3 {
    font-family: 'Quintessential', cursive;
    font-size: 2rem;
    color: var(--text-dark);
    margin: 1rem 0 0.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

.secret-achievement p {
    font-family: 'Quintessential', cursive;
    font-size: 1.2rem;
    color: var(--text-dark);
    margin: 0.5rem 0;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.achievement-subtext {
    font-size: 0.9rem !important;
    opacity: 0.9;
    font-style: italic;
    margin-top: 1rem !important;
}

/* Repeat Achievement - Less Festive */
.secret-achievement-repeat {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 999999;
    background: linear-gradient(135deg, var(--parchment-aged) 0%, var(--parchment-light) 100%);
    border: 3px solid var(--border-tan);
    border-radius: 15px;
    padding: 2rem 1.5rem;
    text-align: center;
    box-shadow:
        0 0 20px 10px rgba(184, 134, 11, 0.3),
        0 8px 20px rgba(0, 0, 0, 0.3);
    animation: simplePopIn 0.4s ease-out;
    min-width: 300px;
    max-width: 90vw;
}

.secret-achievement-repeat i {
    font-size: 3rem;
    color: var(--teal-theme);
    display: block;
    margin-bottom: 0.5rem;
}

.secret-achievement-repeat h3 {
    font-family: 'MedievalSharp', cursive;
    font-size: 1.5rem;
    color: var(--text-dark);
    margin: 0.5rem 0;
}

.secret-achievement-repeat p {
    font-family: 'Quintessential', cursive;
    font-size: 1rem;
    color: var(--text-dark);
    margin: 0.5rem 0;
}

/* Konami Achievement - Epic Medieval Style */
.konami-achievement {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 999999;
    background: linear-gradient(135deg, var(--parchment-aged) 0%, var(--parchment-light) 100%);
    border: 3px solid var(--gold-glow);
    border-radius: 15px;
    padding: 2rem 1.5rem;
    text-align: center;
    box-shadow:
        0 0 0 1px var(--red-theme),
        0 0 0 3px var(--gold-glow),
        0 0 0 4px var(--red-theme),
        0 0 20px 10px var(--gold-glow),
        0 8px 20px rgba(0, 0, 0, 0.3);
    animation: achievementPop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    min-width: 450px;
    max-width: 90vw;
}

.konami-achievement::before {
    content: '';
    position: absolute;
    top: -12px;
    left: -12px;
    right: -12px;
    bottom: -12px;
    background: linear-gradient(45deg, var(--gold), #B8860B, #8B1A1A, #B8860B, var(--gold));
    background-size: 400% 400%;
    border-radius: 30px;
    z-index: -1;
    opacity: 0.7;
    animation: rainbowBorder 3s linear infinite;
}

.konami-achievement i {
    font-size: 4.5rem;
    color: var(--gold);
    text-shadow: 0 0 30px var(--gold-glow);
    animation: starTwinkle 1.5s ease-in-out infinite;
    display: block;
    margin-bottom: 1rem;
}

.konami-achievement h3 {
    font-family: 'MedievalSharp', cursive;
    font-size: 2.2rem;
    color: var(--text-dark);
    margin: 1rem 0 0.5rem;
    text-shadow:
        2px 2px 4px rgba(0, 0, 0, 0.8),
        0 0 20px var(--gold-glow);
}

.konami-achievement p {
    font-family: 'Quintessential', cursive;
    font-size: 1.2rem;
    color: var(--text-dark);
    margin: 0.5rem 0;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

/* Gold Particles */
.gold-particle {
    position: fixed;
    top: -10px;
    width: 10px;
    height: 10px;
    background: var(--gold);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--gold-glow);
    animation: fallAndFade 3s linear forwards;
    pointer-events: none;
    z-index: 999998;
}

/* Rainbow Particles for Konami Code */
.rainbow-particle {
    position: fixed;
    top: -10px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    box-shadow: 0 0 15px currentColor;
    animation: fallAndFade 3s linear forwards;
    pointer-events: none;
    z-index: 999998;
}

/* Fail Animation */
.fail-flash {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(139, 0, 0, 0.3);
    z-index: 999997;
    animation: flashRed 0.8s ease-out;
    pointer-events: none;
}

.shake-fail {
    animation: shake 0.8s ease-in-out;
}
